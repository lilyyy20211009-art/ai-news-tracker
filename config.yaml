# AI News Aggregator 配置文件

# 数据源配置
sources:
  # RSS 订阅源 (默认启用，无需 API Key)
  rss:
    enabled: true
    hours: 24  # 获取最近 24 小时的内容

  # YouTube (使用 RSS，无需 API Key) - 禁用，避免与低粉爆款监测冲突
  youtube:
    enabled: false
    hours: 72  # 获取最近 3 天的视频
    min_views: 0  # RSS 不提供播放量数据，设为0不过滤

  # Twitter/X (需要 API Key)
  twitter:
    enabled: false
    api_key: ""  # Twitter API Bearer Token
    hours: 24

  # Reddit (需要认证)
  reddit:
    enabled: false
    client_id: ""
    client_secret: ""
    hours: 24
    min_upvotes: 50  # 最低点赞数筛选

# LLM 处理配置
llm:
  # DeepSeek API Key (可选，用于生成更好的中文摘要)
  api_key: ""  # 在 https://platform.deepseek.com 获取
  base_url: "https://api.deepseek.com"  # 可选: 自定义 API 端点

  # 处理选项
  translate: true      # 翻译为中文
  summarize: true      # 生成摘要
  categorize: true     # 自动分类
  filter_by_value: true  # 过滤低价值内容

# 输出配置
output:
  # 飞书多维表格
  feishu:
    enabled: true
    app_id: "cli_a90e8c0be0395cd3"         # 飞书应用 ID
    app_secret: "DeNNOEjd5zXGoEzKZYYcKgGYGc3J2GPx"     # 飞书应用 Secret
    app_token: "Uf16b8jCkabtIiseAQ8cfy6jnYe"  # 多维表格 app_token
    table_id: "tblCxZglkQsGXe7l"       # 数据表 ID (AI新闻数据 - 第一个 sheet)
    viral_table_id: "tbl7wjdIATQHaXbf"  # 低粉爆款视频数据表 ID (第二个 sheet)
    conversation_id: ""  # 飞书群聊或机器人对话 ID，用于发送通知（可选）
    webhook_url: "https://open.feishu.cn/open-apis/bot/v2/hook/2fab5dae-83f1-4d85-9c9a-0a09ca5dee45"  # 自定义机器人 Webhook URL，用于发送通知（推荐）

  # JSON 文件输出
  json:
    enabled: true
    path: "./output/news.json"

  # Markdown 报告
  markdown:
    enabled: true
    path: "./output/news.md"

  # HTML 报告 (带摘要和刷新按钮)
  html:
    path: "./output/today.html"

# 自定义配置
custom:
  # 添加自定义 RSS 源
  custom_rss:
    # "我的 RSS": "https://example.com/feed.xml"

  # 添加自定义 YouTube 频道（频道用户名或 handle）
  # 注意：使用 @username 格式或直接使用用户名
  custom_youtube_channels:
    - "Google"
    - "GoogleDevelopers"
    - "OpenAI"

  # 添加自定义 Twitter 账户
  custom_twitter_accounts:
    # - "OpenAI"
    # - "GoogleAI"

  # 添加自定义 Subreddit
  custom_subreddits:
    # - "artificial"
    # - "MachineLearning"

# AI 内容情报监测 - YouTube 中文低粉爆款监测（自动发现模式）
youtube_chinese:
  enabled: true  # 设为 true 启用
  api_key: "AIzaSyD5HhDKIQVcxvAc_MKw-pb5A8fvzxzYvno"  # YouTube Data API v3 密钥（在 https://console.cloud.google.com/apis/credentials 获取）

  # 监测参数
  days_threshold: 14  # 监测最近 N 天的视频
  max_subscribers: 50000  # 最大订阅数阈值（低粉定义）
  viral_ratio: 5  # 播放量达到订阅数的多少倍才算爆款

  # 说明：
  # - 系统会自动搜索 AI 相关的中文视频
  # - 自动筛选低粉丝（≤50K）但高播放（≥5x订阅）的爆款视频
  # - 搜索关键词包括：AI 教程、ChatGPT、AI 工具、GPT-4、Claude、AI 编程 等
  # - 无需手动指定频道列表
